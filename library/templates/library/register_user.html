{% extends 'library/base.html' %}
{% load static %}
{% block title %}Register User{% endblock %}

{% block content %}
<h1>Register Student or Pupil</h1>

<form method="post">
  {% csrf_token %}

  <label for="user_type">User Type</label>
  <select name="user_type" id="user_type" required>
    <option value="">Select type</option>
    <option value="student">Student</option>
    <option value="pupil">Pupil</option>
  </select>

  <label for="user_id">User ID</label>
  <input type="text" name="user_id" id="user_id" required>

  <label for="name">Name</label>
  <input type="text" name="name" id="name" required>

  <label for="surname">Surname</label>
  <input type="text" name="surname" id="surname" required>

  <label for="group">Group</label>
  <input type="text" name="group" id="group" required>

  <div id="age-field" style="display:none;">
    <label for="age">Age (only for pupils)</label>
    <input type="number" name="age" id="age" min="7">
  </div>

  <button type="submit">Register</button>
</form>

<a href="{% url 'home' %}" class="back-link">‚Üê Back</a>

<script>
  document.getElementById('user_type').addEventListener('change', function () {
    const ageField = document.getElementById('age-field');
    ageField.style.display = this.value === 'pupil' ? 'block' : 'none';
  });
</script>
{% endblock %}
