{% extends 'library/base.html' %}
{% load static %}
{% block title %}Register User{% endblock %}

{% block content %}
<h1 class="page-header">üë§ Register User</h1>

<form method="post" class="register-form-grid animate-entry">
  {% csrf_token %}

  <div class="form-left">
    <div class="type-select-block">
      <label for="user_type">User Type</label>
      <select name="user_type" id="user_type" required>
        <option value="">-- Select Type --</option>
        <option value="student">Student</option>
        <option value="pupil">Pupil</option>
      </select>
    </div>

    <label for="user_id">User ID</label>
    <input type="text" name="user_id" id="user_id" required>

    <label for="name">First Name</label>
    <input type="text" name="name" id="name" required>

    <label for="surname">Last Name</label>
    <input type="text" name="surname" id="surname" required>
  </div>

  <div class="form-right">
    <label for="group">Group</label>
    <input type="text" name="group" id="group" required>

    <div id="age-block" class="age-field hidden-age">
      <label for="age">Age (only for pupils)</label>
      <input type="number" name="age" id="age" min="7" max="18">
    </div>
  </div>

  <div class="form-button">
    <button type="submit">‚úÖ Register</button>
  </div>
</form>

<a href="{% url 'home' %}" class="back-link">‚Üê Back to Home</a>

<script>
  const userTypeSelect = document.getElementById('user_type');
  const ageBlock = document.getElementById('age-block');

  userTypeSelect.addEventListener('change', function () {
    if (this.value === 'pupil') {
      ageBlock.classList.remove('hidden-age');
    } else {
      ageBlock.classList.add('hidden-age');
    }
  });
</script>
{% endblock %}
